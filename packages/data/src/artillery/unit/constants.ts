export enum SPOTTING_TYPE {
	BINOCULARS = 'Binoculars',
	OBSERVATION_BUNKER = 'Observation bunker',
}

export type SpottingSpecs = {
	MAX_RANGE: number;
};

export const SPOTTING_BY_TYPE: {
	[ST in SPOTTING_TYPE]: SpottingSpecs;
} = {
	[SPOTTING_TYPE.BINOCULARS]: {
		MAX_RANGE: 125,
	},
	[SPOTTING_TYPE.OBSERVATION_BUNKER]: {
		MAX_RANGE: 230,
	},
};

export enum AMMO_TYPE {
	MORTAR = 'mortar',
	FIRE_ROCKET = '4c fire rocket',
	HIGH_EXPLOSIVE_ROCKET = '3c high explosive rocket',
	SHELL_120MM = '120mm',
	SHELL_150MM = '150mm',
	SHELL_300MM = '300mm',
}

export enum MORTAR_PLATFORM {
	PELTAST = 'Mortar HH-d peltast',
	CHARON = 'Mortar Type C charon',
	CREMARI = 'Mortar Cremari',
}

export enum FIRE_ROCKET_PLATFORM {
	DEIONEUS = '4c T13 deionius',
}

export enum HIGH_EXPLOSIVE_ROCKET_PLATFORM {
	RETIARIUS = '3c R-17 retiarius skirmisher',
	HADES_NET = '3c DAE 3b-2 hades net',
}

export enum SHELL_120MM_PLATFORM {
	KORONIDES = '120mm 120-68 koronides field gun',
	TRIDENT = '120mm AC-b trident',
	CONQUEROR = '120mm Conqueror',
	TITAN = '120mm Titan',
}

export enum SHELL_150MM_PLATFORM {
	SARISSA = '150mm Lance-46 sarissa',
	TITAN = '150mm Titan',
	THUNDERBOLT = '150mm 50-500 thunderbolt',
}

export enum SHELL_300MM_PLATFORM {
	TEMPEST = '300mm Tempest cannon RA-2',
	STORM_CANNON = '300mm Storm cannon',
}

export type Platform<AT extends AMMO_TYPE> = AT extends AMMO_TYPE.MORTAR
	? MORTAR_PLATFORM
	: AT extends AMMO_TYPE.FIRE_ROCKET
		? FIRE_ROCKET_PLATFORM
		: AT extends AMMO_TYPE.HIGH_EXPLOSIVE_ROCKET
			? HIGH_EXPLOSIVE_ROCKET_PLATFORM
			: AT extends AMMO_TYPE.SHELL_120MM
				? SHELL_120MM_PLATFORM
				: AT extends AMMO_TYPE.SHELL_150MM
					? SHELL_150MM_PLATFORM
					: AT extends AMMO_TYPE.SHELL_300MM
						? SHELL_300MM_PLATFORM
						: never;

export type ArtillerySpecs = {
	MIN_RANGE: number;
	MAX_RANGE: number;
	RANGE_INCREMENT: number;
	MIN_SPREAD: number;
	MAX_SPREAD: number;
	WIND_OFFSET: number;
};

export type ArtilleryPlatform = ArtillerySpecs &
	(
		| {
				AMMO_TYPE: AMMO_TYPE.MORTAR;
				PLATFORM: MORTAR_PLATFORM;
		  }
		| {
				AMMO_TYPE: AMMO_TYPE.FIRE_ROCKET;
				PLATFORM: FIRE_ROCKET_PLATFORM;
		  }
		| {
				AMMO_TYPE: AMMO_TYPE.HIGH_EXPLOSIVE_ROCKET;
				PLATFORM: HIGH_EXPLOSIVE_ROCKET_PLATFORM;
		  }
		| {
				AMMO_TYPE: AMMO_TYPE.SHELL_120MM;
				PLATFORM: SHELL_120MM_PLATFORM;
		  }
		| {
				AMMO_TYPE: AMMO_TYPE.SHELL_150MM;
				PLATFORM: SHELL_150MM_PLATFORM;
		  }
		| {
				AMMO_TYPE: AMMO_TYPE.SHELL_300MM;
				PLATFORM: SHELL_300MM_PLATFORM;
		  }
	);

export const ARTILLERY_BY_SHELL: {
	[AT in AMMO_TYPE]: {
		PLATFORM: {
			[PF in Platform<AMMO_TYPE>]?: ArtilleryPlatform;
		};
	};
} = {
	[AMMO_TYPE.MORTAR]: {
		PLATFORM: {
			[MORTAR_PLATFORM.CHARON]: {
				AMMO_TYPE: AMMO_TYPE.MORTAR,
				PLATFORM: MORTAR_PLATFORM.CHARON,
				MIN_RANGE: 75,
				MAX_RANGE: 100,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 2.5,
				MAX_SPREAD: 9.45,
				WIND_OFFSET: 10, // NOT VERIFIED
			},
			[MORTAR_PLATFORM.CREMARI]: {
				AMMO_TYPE: AMMO_TYPE.MORTAR,
				PLATFORM: MORTAR_PLATFORM.CREMARI,
				MIN_RANGE: 45,
				MAX_RANGE: 80,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 5.5,
				MAX_SPREAD: 12,
				WIND_OFFSET: 10, // NOT VERIFIED
			},
			[MORTAR_PLATFORM.PELTAST]: {
				AMMO_TYPE: AMMO_TYPE.MORTAR,
				PLATFORM: MORTAR_PLATFORM.PELTAST,
				MIN_RANGE: 45,
				MAX_RANGE: 80,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 2.5,
				MAX_SPREAD: 9.45,
				WIND_OFFSET: 10, // NOT VERIFIED
			},
		},
	},

	[AMMO_TYPE.FIRE_ROCKET]: {
		PLATFORM: {
			[FIRE_ROCKET_PLATFORM.DEIONEUS]: {
				AMMO_TYPE: AMMO_TYPE.FIRE_ROCKET,
				PLATFORM: FIRE_ROCKET_PLATFORM.DEIONEUS,
				MIN_RANGE: 350,
				MAX_RANGE: 400,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 41.5,
				MAX_SPREAD: 57.5,
				WIND_OFFSET: 25,
			},
		},
	},

	[AMMO_TYPE.HIGH_EXPLOSIVE_ROCKET]: {
		PLATFORM: {
			[HIGH_EXPLOSIVE_ROCKET_PLATFORM.HADES_NET]: {
				AMMO_TYPE: AMMO_TYPE.HIGH_EXPLOSIVE_ROCKET,
				PLATFORM: HIGH_EXPLOSIVE_ROCKET_PLATFORM.HADES_NET,
				MIN_RANGE: 300,
				MAX_RANGE: 575,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 35,
				MAX_SPREAD: 52,
				WIND_OFFSET: 25,
			},
			[HIGH_EXPLOSIVE_ROCKET_PLATFORM.RETIARIUS]: {
				AMMO_TYPE: AMMO_TYPE.HIGH_EXPLOSIVE_ROCKET,
				PLATFORM: HIGH_EXPLOSIVE_ROCKET_PLATFORM.RETIARIUS,
				MIN_RANGE: 375,
				MAX_RANGE: 500,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 37.5,
				MAX_SPREAD: 51,
				WIND_OFFSET: 25,
			},
		},
	},

	[AMMO_TYPE.SHELL_120MM]: {
		PLATFORM: {
			[SHELL_120MM_PLATFORM.CONQUEROR]: {
				AMMO_TYPE: AMMO_TYPE.SHELL_120MM,
				PLATFORM: SHELL_120MM_PLATFORM.CONQUEROR,
				MIN_RANGE: 100,
				MAX_RANGE: 200,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 2.5,
				MAX_SPREAD: 8.5,
				WIND_OFFSET: 25,
			},
			[SHELL_120MM_PLATFORM.KORONIDES]: {
				AMMO_TYPE: AMMO_TYPE.SHELL_120MM,
				PLATFORM: SHELL_120MM_PLATFORM.KORONIDES,
				MIN_RANGE: 100,
				MAX_RANGE: 250,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 22.5,
				MAX_SPREAD: 30,
				WIND_OFFSET: 25,
			},
			[SHELL_120MM_PLATFORM.TITAN]: {
				AMMO_TYPE: AMMO_TYPE.SHELL_120MM,
				PLATFORM: SHELL_120MM_PLATFORM.TITAN,
				MIN_RANGE: 100,
				MAX_RANGE: 200,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 2.5,
				MAX_SPREAD: 8.5,
				WIND_OFFSET: 25,
			},
			[SHELL_120MM_PLATFORM.TRIDENT]: {
				AMMO_TYPE: AMMO_TYPE.SHELL_120MM,
				PLATFORM: SHELL_120MM_PLATFORM.TRIDENT,
				MIN_RANGE: 100,
				MAX_RANGE: 225,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 2.5,
				MAX_SPREAD: 8.5,
				WIND_OFFSET: 25,
			},
		},
	},

	[AMMO_TYPE.SHELL_150MM]: {
		PLATFORM: {
			[SHELL_150MM_PLATFORM.SARISSA]: {
				AMMO_TYPE: AMMO_TYPE.SHELL_150MM,
				PLATFORM: SHELL_150MM_PLATFORM.SARISSA,
				MIN_RANGE: 120,
				MAX_RANGE: 250,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 25,
				MAX_SPREAD: 35,
				WIND_OFFSET: 25,
			},
			[SHELL_150MM_PLATFORM.THUNDERBOLT]: {
				AMMO_TYPE: AMMO_TYPE.SHELL_150MM,
				PLATFORM: SHELL_150MM_PLATFORM.THUNDERBOLT,
				MIN_RANGE: 200,
				MAX_RANGE: 350,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 32.5,
				MAX_SPREAD: 40,
				WIND_OFFSET: 25,
			},
			[SHELL_150MM_PLATFORM.TITAN]: {
				AMMO_TYPE: AMMO_TYPE.SHELL_150MM,
				PLATFORM: SHELL_150MM_PLATFORM.TITAN,
				MIN_RANGE: 100,
				MAX_RANGE: 225,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 2.5,
				MAX_SPREAD: 8.5,
				WIND_OFFSET: 25,
			},
		},
	},

	[AMMO_TYPE.SHELL_300MM]: {
		PLATFORM: {
			[SHELL_300MM_PLATFORM.STORM_CANNON]: {
				AMMO_TYPE: AMMO_TYPE.SHELL_300MM,
				PLATFORM: SHELL_300MM_PLATFORM.STORM_CANNON,
				MIN_RANGE: 400,
				MAX_RANGE: 1000,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 50,
				MAX_SPREAD: 50,
				WIND_OFFSET: 50,
			},
			[SHELL_300MM_PLATFORM.TEMPEST]: {
				AMMO_TYPE: AMMO_TYPE.SHELL_300MM,
				PLATFORM: SHELL_300MM_PLATFORM.TEMPEST,
				MIN_RANGE: 350,
				MAX_RANGE: 500,
				RANGE_INCREMENT: 0,
				MIN_SPREAD: 50,
				MAX_SPREAD: 50,
				WIND_OFFSET: 50,
			},
		},
	},
};

export const ARTILLERY_BY_PLATFORM: {
	[PF in Platform<AMMO_TYPE>]: ArtilleryPlatform;
} = {
	[MORTAR_PLATFORM.CHARON]: ARTILLERY_BY_SHELL[AMMO_TYPE.MORTAR].PLATFORM[MORTAR_PLATFORM.CHARON]!,
	[MORTAR_PLATFORM.CREMARI]: ARTILLERY_BY_SHELL[AMMO_TYPE.MORTAR].PLATFORM[MORTAR_PLATFORM.CREMARI]!,
	[MORTAR_PLATFORM.PELTAST]: ARTILLERY_BY_SHELL[AMMO_TYPE.MORTAR].PLATFORM[MORTAR_PLATFORM.PELTAST]!,
	[FIRE_ROCKET_PLATFORM.DEIONEUS]: ARTILLERY_BY_SHELL[AMMO_TYPE.FIRE_ROCKET].PLATFORM[FIRE_ROCKET_PLATFORM.DEIONEUS]!,
	[HIGH_EXPLOSIVE_ROCKET_PLATFORM.HADES_NET]: ARTILLERY_BY_SHELL[AMMO_TYPE.HIGH_EXPLOSIVE_ROCKET].PLATFORM[HIGH_EXPLOSIVE_ROCKET_PLATFORM.HADES_NET]!,
	[HIGH_EXPLOSIVE_ROCKET_PLATFORM.RETIARIUS]: ARTILLERY_BY_SHELL[AMMO_TYPE.HIGH_EXPLOSIVE_ROCKET].PLATFORM[HIGH_EXPLOSIVE_ROCKET_PLATFORM.RETIARIUS]!,
	[SHELL_120MM_PLATFORM.CONQUEROR]: ARTILLERY_BY_SHELL[AMMO_TYPE.SHELL_120MM].PLATFORM[SHELL_120MM_PLATFORM.CONQUEROR]!,
	[SHELL_120MM_PLATFORM.KORONIDES]: ARTILLERY_BY_SHELL[AMMO_TYPE.SHELL_120MM].PLATFORM[SHELL_120MM_PLATFORM.KORONIDES]!,
	[SHELL_120MM_PLATFORM.TITAN]: ARTILLERY_BY_SHELL[AMMO_TYPE.SHELL_120MM].PLATFORM[SHELL_120MM_PLATFORM.TITAN]!,
	[SHELL_120MM_PLATFORM.TRIDENT]: ARTILLERY_BY_SHELL[AMMO_TYPE.SHELL_120MM].PLATFORM[SHELL_120MM_PLATFORM.TRIDENT]!,
	[SHELL_150MM_PLATFORM.SARISSA]: ARTILLERY_BY_SHELL[AMMO_TYPE.SHELL_150MM].PLATFORM[SHELL_150MM_PLATFORM.SARISSA]!,
	[SHELL_150MM_PLATFORM.THUNDERBOLT]: ARTILLERY_BY_SHELL[AMMO_TYPE.SHELL_150MM].PLATFORM[SHELL_150MM_PLATFORM.THUNDERBOLT]!,
	[SHELL_150MM_PLATFORM.TITAN]: ARTILLERY_BY_SHELL[AMMO_TYPE.SHELL_150MM].PLATFORM[SHELL_150MM_PLATFORM.TITAN]!,
	[SHELL_300MM_PLATFORM.STORM_CANNON]: ARTILLERY_BY_SHELL[AMMO_TYPE.SHELL_300MM].PLATFORM[SHELL_300MM_PLATFORM.STORM_CANNON]!,
	[SHELL_300MM_PLATFORM.TEMPEST]: ARTILLERY_BY_SHELL[AMMO_TYPE.SHELL_300MM].PLATFORM[SHELL_300MM_PLATFORM.TEMPEST]!,
};
